# Video to Subtitle (æœ¬åœ°èªéŸ³è½‰å­—å¹•å·¥å…·)
æœ¬å·¥å…·æ˜¯è€ƒé‡äº†æ•™è‚²éƒ¨å°‡æ–¼ 115 å­¸å¹´åº¦èµ·æ¨å‹•ä¹‹æ”¿ç­–è¦æ±‚ï¼Œé‡å°é è·æ•¸ä½èª²ç¨‹é ˆæä¾›å®Œæ•´å­—å¹•å…§å®¹ï¼Œæˆ–å»ºç½®åˆç†ä¹‹è¼”åŠ©è³‡æºé…å¥—æªæ–½ï¼Œä»¥è½å¯¦ä¿éšœè½éšœå­¸ç”Ÿå¹³ç­‰å—æ•™æ¬Šè€Œç”Ÿçš„è§£æ±ºæ–¹æ¡ˆã€‚å·¥å…·é–‹ç™¼åˆæœŸä¸»è¦æºè‡ªå€‹äººå¯¦éš›ä½¿ç”¨éœ€æ±‚ï¼Œè€ƒé‡è¨±å¤šæ•™å¸«åœ¨è£½ä½œæ•¸ä½æ•™ææ™‚äº¦é¢è‡¨ç›¸åŒæŒ‘æˆ°ï¼Œæ‰€ä»¥å°‡æœ¬å·¥å…·æ•´ç†ä¸¦åˆ†äº«çµ¦å¤§å®¶ä½¿ç”¨ã€‚

Video to Subtitle æ˜¯ä¸€æ¬¾åŸºæ–¼ OpenAI Whisper æ¨¡å‹çš„æœ¬åœ°ç«¯æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ï¼Œå¹«å®ƒå¥—ä¸Šä¸€å±¤åœ–å½¢ä»‹é¢ï¼Œç°¡åŒ– Whisper çš„æ“ä½œæµç¨‹ï¼Œä½¿ç”¨è€…åƒ…éœ€é€²è¡Œç°¡å–®è¨­å®šï¼Œå³å¯å®Œæˆå½±ç‰‡è½‰æ›ç‚ºå­—å¹•æª”æ¡ˆï¼ˆSRTã€VTTï¼‰çš„ä½œæ¥­ã€‚ç”±æ–¼ç¨‹å¼æ–¼æœ¬æ©Ÿç«¯åŸ·è¡Œï¼Œç„¡é ˆå°‡å½±éŸ³æª”æ¡ˆä¸Šå‚³è‡³é›²ç«¯ï¼Œå¯å……åˆ†åˆ©ç”¨ä½¿ç”¨è€…é›»è…¦ç®—åŠ›ç”Ÿæˆé«˜å“è³ªå­—å¹•ï¼Œå…¼å…·å®‰å…¨æ€§ã€å…è²»æ€§èˆ‡éš±ç§ä¿éšœï¼Œæ˜¯ä¸€å¥—å®‰å¿ƒå¯é çš„èªéŸ³è½‰å­—å¹•è§£æ±ºæ–¹æ¡ˆã€‚

å…¶å¯¦ç›®å‰ç¶²è·¯ä¸Šå·²æœ‰è¨±å¤šåŸºæ–¼ OpenAI Whisper çš„å­—å¹•ç”¢ç”Ÿå·¥å…·ï¼Œéƒ¨åˆ†æ¡é›²ç«¯æœå‹™æ¨¡å¼ï¼Œéœ€ä¸Šå‚³å½±ç‰‡æª”æ¡ˆï¼Œå­˜åœ¨éš±ç§ç–‘æ…®ï¼Œæˆ–éœ€è³¼è²·é»æ•¸ä¸¦å—ä½¿ç”¨æ¬¡æ•¸é™åˆ¶ï¼›å¦æœ‰éƒ¨åˆ†æœ¬åœ°ç«¯å·¥å…·ï¼Œå‰‡åŠŸèƒ½çœ¾å¤šæˆ–åœ¨æ“ä½œæµç¨‹ä¸Šè¼ƒç‚ºç¹ç‘£ï¼Œé›£ä»¥ä¸€æ¬¡å®Œæˆæ‰€éœ€ä½œæ¥­ã€‚æœ¬ç¨‹å¼ä¿‚åŸºæ–¼å¯¦éš›æ•™å­¸èˆ‡æ•™æè£½ä½œæƒ…å¢ƒæ‰€é–‹ç™¼ï¼Œä½¿ç”¨åŠŸèƒ½å–®ç´”ï¼ŒæœŸèƒ½ä»¥æœ€å°‘æ­¥é©Ÿå®Œæˆå­—å¹•è½‰æ›ï¼Œæå‡æ•™å¸«åœ¨è£½ä½œæ•¸ä½æ•™ææ™‚çš„æ•ˆç‡èˆ‡ä¾¿åˆ©æ€§ã€‚

![](screenshot.png)

## âœ¨ ä¸»è¦åŠŸèƒ½
å…¶å¯¦ä¸»è¦åŠŸèƒ½å°±æ˜¯åˆ©ç”¨ OpenAI Whisper ç”¢ç”Ÿå­—å¹•æª”æ¡ˆ...
* **æœ¬åœ°åŸ·è¡Œ**ï¼šé™¤ä¸‹è¼‰æ¨¡å‹å¤–ï¼Œå®Œå…¨é›¢ç·šåŸ·è¡Œï¼ŒåŸºæ–¼ faster-whisperï¼Œæ‚¨çš„å½±ç‰‡èˆ‡éŸ³è¨Šæ•¸æ“šæ°¸é ä¸æœƒé›¢ é–‹æ‚¨çš„é›»è…¦ã€‚
* **å¤šæ¨¡å‹æ”¯æ´**ï¼šæ•´åˆ tiny è‡³ large-v3 æ¨¡å‹ï¼Œä½¿ç”¨è€…åªè¦é¸æ“‡å¾Œï¼Œç¨‹å¼è‡ªå‹•å®Œæˆä¸‹è¼‰ã€‚
* **ç°¡åŒ–æ“ä½œ**ï¼šç°¡åŒ– OpenAI Whisper çš„æ“ä½œéç¨‹ï¼Œä½¿ç”¨è€…åªè¦é¸æ“‡ä¸Šè½‰æ›çš„å½±ç‰‡ï¼Œé¸æ“‡ä½¿ç”¨æ¨¡å‹ï¼Œå³å¯ä¸€éµå®Œæˆå­—å¹•æª”æ¡ˆç”¢å‡ºã€‚
* **å¤šæ ¼å¼è¼¸å‡º**ï¼šæ”¯æ´è¼¸å‡º SRT, VTT, TXT, TSV, JSON ç­‰å¸¸è¦‹æ ¼å¼ã€‚
* æ”¯æ´æ‹–æ›³æª”æ¡ˆ (Drag & Drop) è¼‰å…¥ä¾†æºæª”æ¡ˆ

## ä½¿ç”¨æµç¨‹
  1. **é¸æ“‡è¦è½‰æ›çš„æª”æ¡ˆ**ï¼šé»æ“Šã€Œç€è¦½æª”æ¡ˆã€æŒ‰éˆ•æˆ–ç›´æ¥å°‡æª”æ¡ˆæ‹–æ›³è‡³ç¨‹å¼è¦–çª—ã€‚
      - **æ”¯æ´æ ¼å¼**ï¼šæ”¯æ´ MP4, MP3, MKV, WAV, MOV, AVI, M4A ç­‰å¸¸è¦‹å½±éŸ³æ ¼å¼ã€‚
  2. **è¨­å®šæº–ç¢ºåº¦ (æ¨¡å‹)**ï¼šä¾æ“šéœ€æ±‚é¸æ“‡æ¨¡å‹å¤§å°
      - **Tiny / Base**ï¼šé€Ÿåº¦æœ€å¿«ï¼Œä½†æº–ç¢ºåº¦è¼ƒä½ã€‚
      - **Small / Medium**ï¼šé€Ÿåº¦èˆ‡æº–ç¢ºåº¦çš„å¹³è¡¡é» (ä¸€èˆ¬ç”¨é€”æ¨è–¦)ã€‚
      - **Large**ï¼šæº–ç¢ºåº¦æœ€é«˜ï¼Œä½†è½‰æ›é€Ÿåº¦æ…¢ã€‚
  3. **é¸æ“‡é‹ç®—å–®å…ƒèˆ‡æ ¼å¼**ï¼š
      - **é‹ç®—å–®å…ƒ**ï¼šWindows (NVIDIA) å¯é¸ cuda åŠ é€Ÿï¼›macOS æˆ–ç„¡é¡¯å¡è«‹é¸ cpuã€‚
      - **è¼¸å‡ºæ ¼å¼**ï¼šå¯é¸æ“‡ SRT, VTT, TXT, TSV æˆ– JSONã€‚
      - **é€²éšåŠŸèƒ½**ï¼šå¯è¦–éœ€æ±‚å‹¾é¸ã€Œå¼·åˆ¶ç¹é«”ä¸­æ–‡ã€(é¿å…å‡ºç¾ç°¡é«”ä¸­æ–‡)æˆ–ã€Œç¿»è­¯æˆè‹±æ–‡ã€ã€‚
  5. **é–‹å§‹ç”Ÿæˆ**ï¼šé»é¸ã€Œé–‹å§‹ç”Ÿæˆã€æŒ‰éˆ•ï¼Œç¨‹å¼å°‡è‡ªå‹•è™•ç†ã€‚ç­‰å¾…é€²åº¦æ¢è·‘å®Œå¾Œï¼Œæœƒé¡¯ç¤ºç¸½è€—æ™‚èˆ‡æª”æ¡ˆå„²å­˜è·¯å¾‘ã€‚
  6. **è½‰æ›å®Œç•¢**ï¼šè½‰æ›å®Œç•¢å¾Œï¼Œå¯é–‹å•Ÿè¼¸å‡ºæª”æ¡ˆç¢ºèªï¼Œæ ¹æ“šæ¨¡å‹ä¸åŒç²¾æº–åº¦ä¹Ÿæœ‰ä¸åŒï¼Œæ‰€ä»¥è«‹å‹™å¿…å¾ŒçºŒè‡ªè¡Œç¢ºèªå­—å¹•çš„æ­£ç¢ºæ€§ï¼Œå¿…è¦æ™‚è«‹é€²è¡Œäººå·¥ä¿®è¨‚ã€‚
  7. å¾ŒçºŒå¯æ ¹æ“šé è·æ•™å­¸å¹³å°ä¹‹åŠŸèƒ½æ›ä¸Šå­—å¹•æª”ï¼Œæˆ–è€…å°‡å­—å¹•æª”èˆ‡å½±ç‰‡é€²è¡Œçµåˆã€‚

## æ¨¡å‹ä¸‹è¼‰ä½ç½®
é€™å€‹ç¨‹å¼ä½¿ç”¨çš„æ˜¯ faster-whisper å‡½å¼åº«ï¼Œé è¨­æœƒå°‡æ¨¡å‹ä¸‹è¼‰åˆ° Hugging Face çš„å¿«å–ç›®éŒ„ä¸­ã€‚
æ ¹æ“šä½œæ¥­ç³»çµ±ï¼Œæ¨¡å‹å­˜æ”¾çš„ä½ç½®å¦‚ä¸‹ï¼š
  * Windows
    >é€šå¸¸ä½æ–¼ï¼š C:\Users\ä½¿ç”¨è€…åç¨±\.cache\huggingface\hub
    >
    >åœ¨æ­¤è³‡æ–™å¤¾å…§ï¼Œæ‚¨æœƒçœ‹åˆ°é¡ä¼¼ models--Systran--faster-whisper-small çš„è³‡æ–™å¤¾ï¼Œè£¡é¢å°±æ˜¯æ¨¡å‹æª”æ¡ˆ
    >
    >AppData æ˜¯ä¸€å€‹éš±è—è³‡æ–™å¤¾ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨æª”æ¡ˆç¸½ç®¡ä¸­é–‹å•Ÿã€Œé¡¯ç¤ºéš±è—çš„é …ç›®ã€æ‰çœ‹å¾—åˆ°
    
  * macOS
    >é€šå¸¸ä½æ–¼ï¼š /Users/ä½¿ç”¨è€…åç¨±/.cache/huggingface/hub
    >
    >.cache ä¹Ÿæ˜¯éš±è—è³‡æ–™å¤¾ã€‚æ‚¨å¯ä»¥åœ¨ Finder ä¸­æŒ‰ä¸‹ Cmd + Shift + . (å¥è™Ÿ) ä¾†é¡¯ç¤ºéš±è—æª”æ¡ˆï¼Œæˆ–è€…åœ¨çµ‚ç«¯æ©Ÿä¸­ä½¿ç”¨ open ~/.cache/huggingface/hub ç›´æ¥é–‹å•Ÿ

é€™äº›æ¨¡å‹æª”æ¡ˆï¼ˆå°¤å…¶æ˜¯ large æ¨¡å‹ï¼‰å¯èƒ½æœƒä½”ç”¨ 2GB ~ 3GB çš„ç©ºé–“ï¼›å¦‚æœæ‚¨ä¹‹å¾Œæƒ³è¦é‡‹æ”¾ç©ºé–“ï¼Œå¯ä»¥ç›´æ¥åˆªé™¤è©²è³‡æ–™å¤¾å…§çš„å…§å®¹ï¼Œä¸‹æ¬¡ç¨‹å¼åŸ·è¡Œæ™‚æœƒå†è‡ªå‹•ä¸‹è¼‰


## ğŸ“¥ ä¸‹è¼‰èˆ‡å•Ÿå‹• (ä¸€èˆ¬ Windows ä½¿ç”¨è€…)
å¦‚æœæ‚¨ä¸éœ€è¦ä¿®æ”¹ç¨‹å¼ç¢¼ï¼Œè«‹ç›´æ¥ä¸‹è¼‰åŸ·è¡Œæª”ã€‚
1. ä¸‹è¼‰ç¨‹å¼ï¼š[å‰å¾€ Releases é é¢](https://github.com/kaoshou/Video-to-Subtitle/releases) ä¸‹è¼‰æœ€æ–°çš„ VideoToSubtitle.exeã€‚
2. åŸ·è¡Œï¼šé›™æ“Š EXE æª”æ¡ˆå³å¯é–‹å§‹ä½¿ç”¨ã€‚åˆæ¬¡é–‹å•Ÿéœ€è¦ç¨å¾…ç‰‡åˆ»ã€‚

## ğŸ› ï¸ é–‹ç™¼èˆ‡å»ºç½® (é–‹ç™¼è€…)
è‹¥æ‚¨å¸Œæœ›å¾åŸå§‹ç¢¼åŸ·è¡Œï¼Œè«‹åƒè€ƒä»¥ä¸‹æ­¥é©Ÿã€‚
1. ç’°å¢ƒéœ€æ±‚
    - Python 3.8 - 3.11
    - FFmpeg (éœ€åŠ å…¥ç³»çµ±ç’°å¢ƒè®Šæ•¸ PATH)
      * Windows (PowerShell):
        ```
        winget install Gyan.FFmpeg
        ```
      * macOS:
        ```
        brew install ffmpeg
        ```
2. å®‰è£ç›¸ä¾å¥—ä»¶
    ```
    # å»ºè­°å»ºç«‹è™›æ“¬ç’°å¢ƒ (Optional)
    python -m venv venv
    # Windows:
    .\venv\Scripts\activate
    # macOS/Linux:
    source venv/bin/activate
    
    # å®‰è£å¥—ä»¶
    pip install faster-whisper tk tkinterdnd2
    ```
3. ç¡¬é«”åŠ é€Ÿé…ç½®
  * **Windows (NVIDIA GPU)**:è‹¥è¦ä½¿ç”¨ CUDA åŠ é€Ÿï¼Œéœ€å®‰è£å°æ‡‰ç‰ˆæœ¬çš„ [cuDNN](https://developer.nvidia.com/cudnn) èˆ‡ zlib DLL æª”ï¼Œä¸¦æ”¾ç½®æ–¼ Library Path ä¸­ã€‚è©³æƒ…è«‹åƒé–± [CTranslate2 æ–‡ä»¶](https://opennmt.net/CTranslate2/installation.html)ã€‚
  * **macOS (Apple Silicon)**: åœ¨ macOS ä¸Šåƒ…æ”¯æ´ cpu æ¨¡å¼ã€‚
4. åŸ·è¡Œç¨‹å¼
  ```
    python SubtitleTranscriber.py
  ```
5. è£œå……ï¼šä½¿ç”¨ PyInstaller æ‰“åŒ…ç‚ºå–®ä¸€åŸ·è¡Œæª”
  ```
    pyinstaller --noconsole --onefile --name "VideoToSubtitle" --collect-all tkinterdnd2 --collect-all faster_whisper SubtitleTranscriber.py
  ```

## ğŸ“š ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹å°ˆæ¡ˆèˆ‡æˆæ¬Š
æœ¬å·¥å…·ä½¿ç”¨äº†ä»¥ä¸‹é–‹æºå°ˆæ¡ˆï¼š
| å°ˆæ¡ˆ | æˆæ¬Š | ç”¨é€” |
|------|------|------|
| [faster-whisper](https://github.com/SYSTRAN/faster-whisper) | MIT | æ ¸å¿ƒèªéŸ³è¾¨è­˜å¼•æ“ (CTranslate2 backend) |
| [CTranslate2](https://github.com/OpenNMT/CTranslate2) | MIT | é«˜æ•ˆèƒ½ Transformer æ¨è«–å¼•æ“ |
| [tkinterdnd2](https://github.com/pmgagne/tkinterdnd2) | MIT | GUI æª”æ¡ˆæ‹–æ”¾æ”¯æ´ |
| [FFmpeg](https://github.com/FFmpeg/FFmpeg) | LGPL/GPL | å¤šåª’é«”è™•ç†èˆ‡éŸ³è¨Šæå– |

## å…¶ä»–è²æ˜
æœ¬å·¥å…·åƒ…ä¾›å­¸ç¿’èˆ‡å€‹äººä½¿ç”¨ã€‚ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ“”ä½¿ç”¨æœ¬è»Ÿé«”æ‰€ç”¢ç”Ÿçš„é¢¨éšªã€‚ä¸è² ä»»ä½•æ“”ä¿ã€‚

**é–‹ç™¼è€…**: é„­éƒç¿° (Cheng, Yu-Han) | kaoshou@gmail.com
